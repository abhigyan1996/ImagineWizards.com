<!DOCTYPE html>
<html>
<title>QuarkX</title>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Quicksand">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Source Serif Pro">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<link rel="stylesheet" href="/QuarkStylesDesktop.css">
<link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
<link rel="stylesheet" href="/QuarksLargePh.css">
<link rel="stylesheet" href="/ChaptersStyles.css">
<link rel="stylesheet" href="/MyDashboardStyles.css">

 <meta property="og:url"           content="angshumankashyap.in/QuarkX" />
 <meta property="og:type"          content="website" />
 <meta property="og:title"         content="Join Quarks" />
 <meta property="og:description"   content="Refuel Your Curiosity" />
 <meta property="og:image"         content="images/homeAmoeba.jpg" />
<link rel="stylesheet" href="/w3styles.css">
<link rel="stylesheet" href="/AngzPhStyles.css">

<link rel="icon" href="/QuarkOtherImages/QuarksLogoFinal-1.png">

<script src="slickJS/slick.js" type="text/javascript"></script>
<link rel="stylesheet" href= "/slickCss/slick.css">
<link rel="stylesheet" href= "/slickCss/slick-theme.css">

<link rel="stylesheet" href= "/AngzDesktopStyles.css">

<!-- NAV BAR  -->
<link rel="stylesheet" href="/nav.css">
<script src='https://kit.fontawesome.com/a076d05399.js'></script>

<script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
<script src="https://www.w3schools.com/lib/w3.js"></script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
<script src="https://cdn.jsdelivr.net/jquery.slick/1.5.0/slick.min.js"> </script>

<script src="https://www.w3schools.com/lib/w3.js"></script>

<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>

<link rel="preconnect" href="https://fonts.gstatic.com">
<link href="https://fonts.googleapis.com/css2?family=Lora:ital@1&display=swap" rel="stylesheet">

<!--     ===================================================================
                              Hemburgar Menu
    ===================================================================
 -->

 <script>
	function openSlideMenu(){
	  if (screen.width <=768) {
		document.getElementById('side-menu').style.width = '65vw';
		document.getElementById('main').style.marginLeft = '65vw';
		document.getElementById('wholebody').style = '1';
	  }
	  else {
		document.getElementById('side-menu').style.width = '25vw';
		document.getElementById('main').style.marginLeft = '25vw';
		document.getElementById('wholebody').style = '1';
	  }
	}
  
	function closeSlideMenu(){
	  document.getElementById('side-menu').style.width = '0';
	  document.getElementsByClassName('w3-row').style.opacity = '1';
	}
  </script>

<!-- <script src="../Dashboard.js"></script> -->

<script src="/../NewDashboard.js"> </script>

<body onload="move()" class="w3-black" style="width:100vw;">


<section  id="top-navbar">  
    <div id="side-menu" class="side-nav">
      <a href="#" class="btn-close" onclick="closeSlideMenu()">&times;</a>
      <a href="#" id="userImg"> <img id="userImage" src="https://cdn.pixabay.com/photo/2016/06/14/09/33/bulldog-1456110_960_720.png"></a>
      <a href="#" id="username"><%=username%></a>
      <a id="myCoursesTxt" href="MyCourses">My Courses</a>
      <a href="../UserProfile/LogOut"><div id="logOutTxt">LOG OUT</div></a>
    </div>
 </section>

<!-- Navbar (sit on top) -->
<div class="w3-top">
  <div class="w3-bar w3-white" id="myNavbar" style="box-shadow: 3px 3px 3px #A8A8A8 ; width:100vw; max-width:100vw; min-width:100vw;">
    <a id="iconBar" class="w3-bar-item w3-left w3-white" href="javascript:void(0);" onclick="openSlideMenu()" title="Toggle Navigation Menu">
      <i class="fa fa-bars"></i>
    </a>
    <div style="cursor: pointer;" class="w3-bar-item"> <img id="QuarksLogo" src="/QuarkOtherImages/QuarksLogoFinal-1.png"> </div> 
    
    <div style="cursor: pointer;" class="w3-bar-item"><span id="nameQuarks">QuarkX</span></div>    
    
  </div>
  <!-- Navbar on small screens -->
</div>




<div onclick="closeSlideMenu()">

  <div class="chart" id="chart"></div>
  <button class="w3-button w3-green" id="refresh">Refresh this chart</button>


  <div class="w3-hide" id="bearerToken"><%=bearerToken%></div>  
  <div class="w3-hide" id="EmailId"><%=Email%></div>  

</div>
</body>


<script src="https://unpkg.com/@mongodb-js/charts-embed-dom"></script>
<script src="https://unpkg.com/regenerator-runtime@0.13.9/runtime.js"></script>


<script type="text/javascript">
//import { ChartsEmbedSDK} from "/@mongodb-js/charts-embed-dom";

const ChartsEmbedSDK = window.ChartsEmbedSDK;

// var bearerToken = document.getElementById("bearerToken");
var EmailId = document.getElementById("EmailId").innerText;

console.log("Email", EmailId);

const sdk = new ChartsEmbedSDK({
  baseUrl: "https://charts.mongodb.com/charts-project-0-qqgxi", // Optional: ~REPLACE~ with the Base URL from your Embed Chart dialog
  // getUserToken: async function() {
  //     var bearerToken = document.getElementById("bearerToken");
  //     console.log(bearerToken);
	//     return bearerToken;
  // }
    // bearerToken:bearerToken,
    // filter: { "CHAPTER_NUM": { "$gt": 6 } }
    // filter: { "CHAPTER_NUM": 1 },
    // filter: { "EMAIL": "gaurav.kohli.1796@gmail.com" }
    filter: { "EMAIL": EmailId }
});

const chart1 = sdk.createChart({
  chartId: "62467466-a9de-4f9c-88d9-62dc6ec28b96", // Optional: ~REPLACE~ with the Chart ID from your Embed Chart dialog
  height: "35vw",
  width: "40vw",
  theme: "dark"
});


async function renderCharts() {
  await chart1.render(document.getElementById("chart"));
}

// renderCharts().catch((e) => window.alert(e.message));
renderCharts().catch((e) => console.log(e));



document.getElementById('refresh').addEventListener('click', () => {
  chart1.refresh();
})

</script>



</html>