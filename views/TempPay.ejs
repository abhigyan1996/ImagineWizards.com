<!DOCTYPE html>
<html>
<title>Imagine Wizards</title>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Quicksand">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Source Serif Pro">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<link rel="stylesheet" href="/QuarkStylesDesktop.css">
<link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
<link rel="stylesheet" href="/QuarksLargePh.css">
<link rel="stylesheet" href="/TempPayStyles.css">

 <meta property="og:url"           content="angshumankashyap.in/QuarkX" />
 <meta property="og:type"          content="website" />
 <meta property="og:title"         content="Get customized Nike shoes in Imagine Wizards"/>
 <meta property="og:description"   content="Craft magic with art" />
 <meta property="og:image"         content="ImagineWizardPhotos/logo2.png" />
<link rel="stylesheet" href="/w3styles.css">
<link rel="stylesheet" href="/AngzPhStyles.css">

<!-- <link rel="icon" href="/ImagineWizardPhotos/logo2.png"> -->

<script src="slickJS/slick.js" type="text/javascript"></script>
<link rel="stylesheet" href= "/slickCss/slick.css">
<link rel="stylesheet" href= "/slickCss/slick-theme.css">

<link rel="stylesheet" href= "/AngzDesktopStyles.css">

<script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>

<!-- NAV BAR  -->
<link rel="stylesheet" href="/nav.css">
<script src='https://kit.fontawesome.com/a076d05399.js'></script>

<script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
<script src="https://www.w3schools.com/lib/w3.js"></script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
<script src="https://cdn.jsdelivr.net/jquery.slick/1.5.0/slick.min.js"> </script>

<script src="https://www.w3schools.com/lib/w3.js"></script>

<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>

<link rel="preconnect" href="https://fonts.gstatic.com">
<link href="https://fonts.googleapis.com/css2?family=Lora:ital@1&display=swap" rel="stylesheet">


<!-- NEWLY ADDED Google FONT -->
<link rel="preconnect" href="https://fonts.gstatic.com">
<link href="https://fonts.googleapis.com/css2?family=Alegreya&family=Concert+One&family=Lora:ital,wght@1,400;1,600;1,700&display=swap" rel="stylesheet">

<!--     ===================================================================
                              Hemburgar Menu
    ===================================================================
 -->
   <!-- Link Swiper's CSS -->
   <link
   rel="stylesheet"
   href="https://unpkg.com/swiper/swiper-bundle.min.css"
 />

<style>
 .shoeSize{
          border-radius: 50vw;
          text-align: center;
          margin-left: 0.25vw;
          margin-bottom: 0.25vw;
          background-color: white;
          border: 2px solid #bbb;
          font-size: 0.9vw;
          width: 3.5vw;
          margin-top: 0.5vw;
          font-family: 'Trebuchet MS', 'Lucida Sans Unicode', 'Lucida Grande', 'Lucida Sans', Arial, sans-serif;
      }

      .shoeSize:hover{
          border-radius: 100vw;
          text-align: center;
          margin-left: 0.25vw;
          margin-bottom: 0.25vw;
          background-color: white;
          border: 2px solid #bbb;
          font-size: 0.9vw;
          width: 3.5vw;
          padding-top: -0.5vw;
      }

      #sizesDiv{
            margin-left: -3.25vw;
        }

</style>

<body onload="getWishlistHearts()" style="width:100vw; min-width: 100vw; max-width: 100vw; overflow-x: hidden; background-color: white;">

<section  id="top-navbar">  
    <div id="side-menu" class="side-nav">

      <a href="#" id="userImg"> <img id="userImage" src="https://cdn.pixabay.com/photo/2016/06/14/09/33/bulldog-1456110_960_720.png"></a>
      <!-- <a href="#" id="username"><%=username%></a>
      <a id="myCoursesTxt" href="../QuarkXAcademy/MyCourses">My Courses</a>
      <a href="../UserProfile/LogOut"><div id="logOutTxt">LOG OUT</div></a>      
      <a href="../signup"><div id="RegiTxt">SIGN IN / REGISTER</div></a> -->
    </div>
 </section>

 
</section>

<div>

<form class="w3-hide" id="selectCourseForm" action="../QuarkXAcademy/OrderDetails" style="margin-top: 20vw;" method="POST">
    <input id="Class" type="text" name = "Class" placeholder="Class">
    <input id="Course" type="text" name = "Course" placeholder="Course">
    <input type="text" id="Price" name = "Price" placeholder="Amount">
    <input type="text" id="orderId" name = "orderId" placeholder="Order Id">
    <input type="text" id="username" name = "username" value=<%=username%>>
    <button type="submit" id="submitCourse">Submit</button>
</form> 

<form class="w3-hide">
    <input class="w3-hide" type="text" id="loginFlag" name="loginFlag" value=<%=loginFlag%>>
    <input class="w3-hide" type="text" id="username1" name="username" value=<%=username%>>
</form>

<div id="Sec1">
       <!-- Swiper -->
       <div class="swiper mySwiper firstBanners">
        <div class="swiper-wrapper">
          <div class="swiper-slide">
              <img class="prodList2" src="/ImagineWizardPhotos/Banner1.png">
          </div>
        <div class="swiper-slide">
          <img class="prodList2" src="/ImagineWizardPhotos/Banner2.png">
      </div>
      <div class="swiper-slide">
        <img class="prodList2" src="/ImagineWizardPhotos/Banner3.png">
    </div>
          <!-- <div class="swiper-slide">
              Slide 3
          </div>
          <div class="swiper-slide">
              Slide 4
          </div>
          <div class="swiper-slide">
              Slide 5 -->
          </div>
        </div>
  
        <!-- <div class="swiper-button-next arrowsBanner"></div>
        <div class="swiper-button-prev arrowsBanner"></div> -->
        
      </div>
   </div>

   <!-- Navbar (sit on top) -->
<div class="w3-top">
    <div class="w3-bar w3-white" id="myNavbar" style="box-shadow: 3px 3px 3px #A8A8A8 ; width:100vw; max-width:100vw; min-width:100vw; height: 7vw">
      <a id="iconBar" class="w3-bar-item w3-left w3-white" href="javascript:void(0);" onclick="openSlideMenu()" title="Toggle Navigation Menu">
          <i class="fa fa-bars"></i>
      </a>
      <div style="cursor: pointer;" class="w3-bar-item"> <img id="QuarksLogo" src="/ImagineWizardPhotos/logo2.png"> </div> 
      <div class="w3-bar-item FiltersText"><span id="Filters1">Men</span><span id="Filters2">Women</span><span id="Filters3">Kids</span></div>
  
      <!-- <a style="cursor: pointer;" href="../signup" ><div style="cursor: pointer;" class="w3-bar-item w3-hide-small" id="loginBtn">Log In</div></a>
      <a href="../signup" style="cursor: pointer;"><div style="cursor: pointer;" class="w3-bar-item w3-hide-small" id="signUpBtn">Sign Up</div></a>
     -->
     <div id="wishlistContainer" style="cursor: pointer;" onclick="ViewWishlist()"><div id="wishlistBarIcon">â™¡</div>
     <div id="wishlistCount">
         <div id="wishlistItemCount"></div>
      </div>
     <div id="wishlistBarText">Wishlist</div></div> 
     
     <div id="CartContainer" style="cursor: pointer;" onclick="ViewCart()"><svg id="cartBarIcon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 48 48"><path d="M41.3 14.58a5 5 0 0 0-5-4.58H34a10 10 0 0 0-20 0h-2.32a5 5 0 0 0-5 4.58l-2.36 28a5 5 0 0 0 5 5.39h29.35a5 5 0 0 0 5-5.4ZM24 2a8 8 0 0 1 8 8H16a8 8 0 0 1 8-8Zm14.67 44H9.33a3 3 0 0 1-3-3.23l2.35-28a3 3 0 0 1 3-2.75H14v6h-1a1 1 0 0 0 0 2h4a1 1 0 0 0 0-2h-1V12h16v6h-1a1 1 0 0 0 0 2h4a1 1 0 0 0 0-2h-1v-6h2.32a3 3 0 0 1 3 2.75l2.35 28a3 3 0 0 1-3 3.25Z" data-name="Shopping Bag"/></svg>
      <div id="cartCount">
        <div id="cartItemCount"></div>
      </div>
      <div id="cartBarText">Cart</div></div>
     

     <div class="btn" id="WishlistMsgAdd">Product added to your wishlist</div>
     <div class="btn" id="WishlistMsgRem">Product removed from your wishlist</div>

     <div class="btn" id="prodHomeAddedMsg">Product added to your cart successfully</div>
  
    <!-- Navbar on small screens -->
  </div>
  </div>

<div style="margin-top: -26.75vw;" id="Sec2">
    <section>
        <div id="ProductHeadingsTxt1" class="w3-center ProductHeadingsTxt">TOP SELLING</div>
        <br>

        <ul id="ProductHomeCardsDiv" style="list-style-type:none; margin-bottom: 3vw;"> 
            <% var i=0; %>
            <% for(products of Products){%>
              <li id="eachListItem">
                <img onclick="productInfo('<%=products.PROD_ID%>')" class="productCardsHome" src=<%=products.PROD_IMG1%>>
                <!-- <img onclick="Wishlist('<%=products.PROD_ID%>')" id="heartImage" src=<%=products.PROD_IMG2%>> -->
               
                <!-- removed for now -->
                <!-- <div onclick="Wishlist('<%=products.PROD_ID%>')" class="heartImage"><span id="heartShape"></span></div> -->
                <img onclick="Wishlist('<%=products.PROD_ID%>')" class="heartImageNew"><span id="heartShapeNew"></span>
                
                <div class="w3-hide" id="prodId"><%=products.PROD_ID%><span class="w3-hide">,</span></div>
                <!-- <div class="w3-hide" id="prodImg1"><%=products.PROD_IMG1%><span class="w3-hide">,</span></div>
                <div class="w3-hide" id="prodImg2"><%=products.PROD_IMG2%><span class="w3-hide">,</span></div>
                <div class="w3-hide" id="prodImg3"><%=products.PROD_IMG3%><span class="w3-hide">,</span></div>
                <div class="w3-hide" id="prodImg4"><%=products.PROD_IMG4%><span class="w3-hide">,</span></div>
                <div class="w3-hide" id="prodImg5"><%=products.PROD_IMG5%><span class="w3-hide">,</span></div> -->
              
                <div onclick="productInfo('<%=products.PROD_ID%>')" id="prodTitle"><%=products.PROD_TITLE%><span class="w3-hide">,</span></div>
                
                <!-- <div onclick="productInfo('<%=products.PROD_ID%>')" id="prodTitle"><%=products.PROD_TITLE%><span class="w3-hide">,</span></div> -->
                
                <div class="w3-hide" id="prodDesc"><%=products.PROD_DESC%><span class="w3-hide">,</span></div>
                <div class="w3-hide" id="prodTheme"><%=products.PROD_THEME%><span class="w3-hide">,</span></div>
                <div class="w3-hide" id="prodPrice"><%=products.PRICE%><span class="w3-hide">,</span></div>
                <!-- <div id="prodPriceDisplay">AED <%=products.PRICE%><span class="w3-hide">,</span></div> -->

                <div id="pricesDiv">
                  <span id="sellingPrice">AED <%=products.PRICE%></span>
                  <span id="originalPrice">AED <%=products.ORIGINAL_PRICE%></span>
                  <span id="discountPercent"><%=discount[i]%>% off</span>
                </div>    
                <div class="btn" onclick="AddToCartNew('<%=products.PROD_ID%>', '<%=products.PROD_IMG1%>', '<%=products.PROD_TITLE%>', '<%=products.PRICE%>', '<%=products.ORIGINAL_PRICE%>', '<%=discount[i]%>')" id="MoveToCartBtn">ADD TO CART</div>

              </li>
              <% i++; %>
              <%}%>
            </ul>
    </section>
</div>

<div id="addToCartModal" class="w3-modal">
  <div id="addToCartContainer" class="w3-modal-content">
    <div class="w3-container">
      <span id="modalCrossBtn" onclick="document.getElementById('addToCartModal').style.display='none'">&times;</span>
      <img onclick="ViewProdBtn('<%=products.PROD_ID%>')" id="cartProdImg">
      <div onclick="ViewProdBtn('<%=products.PROD_ID%>')" id="addCartProdTitle"></div>
      <div id="AddCartPricesDiv">
        <span id="AddCartSellingPrice"></span>
        <span id="AddCartOriginalPrice"></span>
        <span id="AddCartDiscountPercent"></span>
      </div>
      <hr id="addCartLine">
      <div id="selectSizeTxt">Please select a size.</div>

      <ul id="sizesDiv" style="list-style-type:none; display: flex; flex-wrap: wrap;">
        <li id="size1" class="w3-button w3-hover-white shoeSize">XXS</li>
        <li id="size2" class="w3-button w3-hover-white shoeSize">XS</li>
        <li id="size3" class="w3-button w3-hover-white shoeSize">S</li>
        <li id="size4" class="w3-button w3-hover-white shoeSize">M</li>
        <li id="size5" class="w3-button w3-hover-white shoeSize">L</li>
        <li id="size6" class="w3-button w3-hover-white shoeSize">XL</li>
        <li id="size7" class="w3-button w3-hover-white shoeSize">XXL</li>
      </ul>

      <input type="text" class="w3-hide" required="true" id="selectedSize" placeholder="selectedSize">
      <button id="addCartBtn">Add To Cart</button>

    </div>

      </div>
    </div>


<form class="w3-hide" id="ViewProductForm" action="/QuarkXAcademy/ProductInfo/" method="GET">
    <input type="text"id="thisProdId" name="productId" placeholder="thisProdId">
    <button type="submit" class="w3-blue btn btn-default">Submit</button>
  </form>

<div id="SecQuickLinks">

    <div id="allLinksTxt">
        <div id="quickLinksTxt">Useful Links :</div>
        <u><div id="linksTxt"><a id="link1" href="../ViewAllCourses">Courses and Pricing</a></div> 
        <div id="linksTxt"><a id="link1" href="../index">About Us</a></div> 
        <div id="linksTxt"><a id="link1">Careers (coming soon)</a></div></u>
    </div>

    <div id="allLinksTxt2">
        <div id="quickLinksTxt">Contact Us :</div>
        <div id="linksTxt">Call: +91 8638108598 ,</div>
        <div id="linksTxt">Email: angshumank2016@email.iimcal.ac.in</div> 
        <div id="quickLinksTxt2">Operational Address:</div>
        <div id="linksTxt">Jail Road, Near Central Jail, Jorhat, PO: Borbheta, 785004, Assam, India</div> 
    </div>

    <div id="allLinksTxt3">
        <div id="quickLinksTxt">Policies :</div>
        <u><div id="linksTxt"><a id="link1" href="../TermsAndConditions">Terms and Conditions</a></div>
        <div id="linksTxt"><a id="link1" href="../PrivacyPolicy">Privacy Policy</div></a>
        <div id="linksTxt"><a id="link1" href="../RefundCancellationPolicy">Refund and Cancellation Policy</div></u></a>
        <div id="quickLinksTxt2">Security concern?</div>
        <div id="linksTxt">EMAIL :<br>abhigyankashyap82@gmail.com, gaurav.kohli.1796@gmail.com</div> 
    </div>

</div>


    <input class="w3-hide" type="text" id="order-amt" name = "Amount" placeholder="Amount">

</div>


<!-- Wishlist Form -->
<form class="w3-hide" id="AddToWishlistForm" action="/QuarkXAcademy/AddToWishlistNew" method="POST">
  <input type="text"id="prodIdWishlist" name="selectedProdId" placeholder="prodIdWishlist">
  <input type="text"id="indexOfWishlist" name="indexOfWishlist" placeholder="indexOfWishlist">
  <button type="submit" class="w3-blue btn btn-default">Submit</button>
</form>


<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>


<!-- $("#ProductCardsDiv li #heartImage").click(function() {
  var index = $("#ProductCardsDiv li").index();

}); -->

<script>
  if (document.getElementById('cartItemCount').innerHTML=="0")
     $("#cartCount").hide();
  else 
    $("#cartCount").show();


  if (document.getElementById('wishlistItemCount').innerHTML=="0")
     $("#wishlistCount").hide();
  else 
    $("#wishlistCount").show();
</script>

<script>
  function ViewWishlist(){
    var userToken = localStorage.getItem("Token");
    if(userToken){
      userToken1=userToken;
    }
    else{
      userToken1=Date.now();
      localStorage.setItem("Token",userToken1);
    }
    hrefStr = "http://localhost:8001/QuarkXAcademy/Wishlist" + "/" + userToken1;
    location.href = hrefStr;
  }
</script>

<script>
  function ViewCart(){
    var userToken = localStorage.getItem("Token");
    if(userToken){
      userToken1=userToken;
    }
    else{
      userToken1=Date.now();
      localStorage.setItem("Token",userToken1);
    }
    hrefStr = "http://localhost:8001/QuarkXAcademy/ViewCart" + "/" + userToken1;
    location.href = hrefStr;
  }
</script>

<script>
  var clickedFlag = 0;
  document.getElementById("addCartBtn").disabled = true;
  
  $("#sizesDiv li").click(function () {
    clickedFlag = 1;
    document.getElementById("addCartBtn").disabled = false;
    document.getElementById("addCartBtn").style.cursor = "pointer"
    document.getElementById("addCartBtn").style.background = "blueviolet"

    // $("#ErrMsg").css("display", "none");
    var index = $(this).index();
    if (index == 0) {
      $("#size1").css("border-color", "green")
      $("#size2").css("border-color", "#bbb")
      $("#size3").css("border-color", "#bbb")
      $("#size4").css("border-color", "#bbb")
      $("#size5").css("border-color", "#bbb")
      $("#size6").css("border-color", "#bbb")
      $("#size7").css("border-color", "#bbb")
      document.getElementById('selectedSize').value = 'XXS';
      // $("#ErrMsg").hide()
    }
    else if (index == 1) {
      $("#size1").css("border-color", "#bbb")
      $("#size2").css("border-color", "green")
      $("#size3").css("border-color", "#bbb")
      $("#size4").css("border-color", "#bbb")
      $("#size5").css("border-color", "#bbb")
      $("#size6").css("border-color", "#bbb")
      $("#size7").css("border-color", "#bbb")
      document.getElementById('selectedSize').value = 'XS';
      // $("#ErrMsg").hide()
    }

    else if (index == 2) {
      $("#size1").css("border-color", "#bbb")
      $("#size2").css("border-color", "#bbb")
      $("#size3").css("border-color", "green")
      $("#size4").css("border-color", "#bbb")
      $("#size5").css("border-color", "#bbb")
      $("#size6").css("border-color", "#bbb")
      $("#size7").css("border-color", "#bbb")
      document.getElementById('selectedSize').value = 'S';
      // $("#ErrMsg").hide()
    }

    else if (index == 3) {
      $("#size1").css("border-color", "#bbb")
      $("#size2").css("border-color", "#bbb")
      $("#size3").css("border-color", "#bbb")
      $("#size4").css("border-color", "green")
      $("#size5").css("border-color", "#bbb")
      $("#size6").css("border-color", "#bbb")
      $("#size7").css("border-color", "#bbb")
      document.getElementById('selectedSize').value = 'M';
      // $("#ErrMsg").hide()
    }

    else if (index == 4) {
      $("#size1").css("border-color", "#bbb")
      $("#size2").css("border-color", "#bbb")
      $("#size3").css("border-color", "#bbb")
      $("#size4").css("border-color", "#bbb")
      $("#size5").css("border-color", "green")
      $("#size6").css("border-color", "#bbb")
      $("#size7").css("border-color", "#bbb")
      document.getElementById('selectedSize').value = 'L';
      // $("#ErrMsg").hide()
    }

    else if (index == 5) {
      $("#size1").css("border-color", "#bbb")
      $("#size2").css("border-color", "#bbb")
      $("#size3").css("border-color", "#bbb")
      $("#size4").css("border-color", "#bbb")
      $("#size5").css("border-color", "#bbb")
      $("#size6").css("border-color", "green")
      $("#size7").css("border-color", "#bbb")
      document.getElementById('selectedSize').value = 'XL';
      // $("#ErrMsg").hide()
    }

    else if (index == 6) {
      $("#size1").css("border-color", "#bbb")
      $("#size2").css("border-color", "#bbb")
      $("#size3").css("border-color", "#bbb")
      $("#size4").css("border-color", "#bbb")
      $("#size5").css("border-color", "#bbb")
      $("#size6").css("border-color", "#bbb")
      $("#size7").css("border-color", "green")
      document.getElementById('selectedSize').value = 'XXL';
      // $("#ErrMsg").hide()
    }
  });

  // $("#AddCartBtn").click(function () {
  //   if (clickedFlag == 0) {
  //     $("#ErrMsg").show()
  //   }
  // });
</script>

<script>

  function getWishlistHearts() {
    var userToken = localStorage.getItem("Token");
    if(userToken){
      userToken1=userToken;
    }
    else{
      userToken1=Date.now();
      localStorage.setItem("Token",userToken1);
    }
    var url = 'http://localhost:8001/QuarkxAcademy/getWishlistHearts';
      var params = {
      userToken: userToken1
      // index: document.getElementById('indexOfWishlist').value
        // selectedProdId: document.getElementById('prodIdWishlist').value,
        // heartList: resHeartId,
      };
      var xmlHttp = new XMLHttpRequest();
      xmlHttp.onreadystatechange = function (res) {
          if (xmlHttp.readyState === 4) {
              res=JSON.parse(xmlHttp.responseText);
              // console.log("Added to wishlist",res.message);
              // document.getElementById('heartImage').innerHTML = res.status;
              // console.log("Response index",res.index);

              if(res.cartItemCount==0){
                $('#cartCount').hide()
              }

              if(res.wishlistItemCount==0){
                $('#wishlistCount').hide()
              }

              document.getElementById('cartItemCount').innerHTML = res.cartItemCount
              document.getElementById('wishlistItemCount').innerHTML = res.wishlistItemCount
              
              for (let i = 0; i<(res.heartList).length; i++) {

                if(res.heartList[i] == 'ðŸ’š'){
                  document.getElementsByClassName('heartImageNew')[i].src = "/ImagineWizardPhotos/Wishlisted.png"
                }
                else{
                  document.getElementsByClassName('heartImageNew')[i].src = "/ImagineWizardPhotos/Wishlist.png"
                }

                // document.getElementsByClassName('heartImage')[i].innerHTML = res.heartList[i];
                // document.getElementsByClassName('heartImage')[i].style.fontSize = '2vw';
                // document.getElementsByClassName('heartImage')[i].style.fontFamily = 'Impact,Charcoal,sans-serif';
              }
           
           
          }
      }
      xmlHttp.open("POST", url, true); // false for synchronous request
      // xmlHttp.withCredentials = true;
      xmlHttp.setRequestHeader("Content-type", "application/json");
      xmlHttp.send(JSON.stringify(params));
  }
</script>


<script>
function Wishlist(ProdId) {
  
  var userToken = localStorage.getItem("Token");
    if(userToken){
      userToken1=userToken;
    }
    else{
      userToken1=Date.now();
      localStorage.setItem("Token",userToken1);
    }
    
  var url = 'http://localhost:8001/QuarkxAcademy/AddToWishlistNew';
      var params = {
      selectedProdId: ProdId,
      userToken: userToken1,
      // index: document.getElementById('indexOfWishlist').value
        // selectedProdId: document.getElementById('prodIdWishlist').value,
        // heartList: resHeartId,
        index: ProdId-1
      };
      var xmlHttp = new XMLHttpRequest();
      xmlHttp.onreadystatechange = function (res) {
          if (xmlHttp.readyState === 4) {
              res=JSON.parse(xmlHttp.responseText);
              // console.log("Added to wishlist",res.message);
              // document.getElementById('heartImage').innerHTML = res.status;
              // console.log("Response index",res.index);
              var n = res.index;
              // document.getElementsByClassName('heartImage')[n].innerHTML = res.status;
              // document.getElementsByClassName('heartImage')[n].style.fontSize = '2vw';
              // document.getElementsByClassName('heartImage')[n].style.fontFamily = 'Impact,Charcoal,sans-serif';
              
              if(res.status=="ðŸ’š"){
                $("#WishlistMsgRem").hide();
                $("#WishlistMsgAdd").hide();
                $("#WishlistMsgAdd").show();
                // document.getElementById('WishlistMsgAdd').innerHTML = res.message;
                $("#WishlistMsgAdd").delay(4000).fadeOut();
                
                document.getElementById('wishlistItemCount').innerHTML = res.itemCount;
                $('#wishlistCount').show()
                document.getElementsByClassName('heartImageNew')[n].src = "/ImagineWizardPhotos/Wishlisted.png"
              }
              if(res.status=="â™¡"){
                $("#WishlistMsgAdd").hide();
                $("#WishlistMsgRem").hide();
                $("#WishlistMsgRem").show();
                // document.getElementById('WishlistMsgRem').innerHTML = res.message;
                $("#WishlistMsgRem").delay(4000).fadeOut();
                document.getElementsByClassName('heartImageNew')[n].src = "/ImagineWizardPhotos/Wishlist.png"

                if (res.itemCount==0)
                    $("#wishlistCount").hide();
                  else 
                    $("#wishlistCount").show();
                document.getElementById('wishlistItemCount').innerHTML = res.itemCount;

              }


          }
      }
      xmlHttp.open("POST", url, true); // false for synchronous request
      // xmlHttp.withCredentials = true;
      xmlHttp.setRequestHeader("Content-type", "application/json");
      xmlHttp.send(JSON.stringify(params));
 }
  </script>

<script>
var userToken = localStorage.getItem("Token");
    if(userToken){
      userToken1=userToken;
    }
    else{
      userToken1=Date.now();
      localStorage.setItem("Token",userToken1);
    }
</script>


<!-- <script>

function Wishlist(ProdId) {
    // document.getElementById('thisProdId').value=ProdId;
    console.log("Function Wishlist clicked");
    var http = new XMLHttpRequest();
    var url = '/api/QuarkXAcademy/AddToWishlistNew';
    var params = '1'
    http.open('POST', url, true);

    //Send the proper header information along with the request
    http.setRequestHeader('Content-type', 'application/x-www-form-urlencoded');

    http.onreadystatechange = function() {//Call a function when the state changes.
        if(http.readyState == 4 && http.status == 200) {
            alert(http.responseText);
        }
    }
    http.send(params);
  }

</script> -->

<script>
  function AddToCartNew(ProdId, cartProdImg, cartProdTitle, sellingPrice, originalPrice, discount) {

  var userToken = localStorage.getItem("Token");
  if(userToken){
    userToken1=userToken;
  }
  else{
    userToken1=Date.now();
    localStorage.setItem("Token",userToken1);
  }

  document.getElementById('addToCartModal').style.display='block'
  document.getElementById("cartProdImg").src = cartProdImg
  document.getElementById("addCartProdTitle").innerHTML = cartProdTitle

  document.getElementById("AddCartSellingPrice").innerHTML = "AED " + sellingPrice
  document.getElementById("AddCartOriginalPrice").innerHTML = "AED " + originalPrice
  document.getElementById("AddCartDiscountPercent").innerHTML = discount + "% off"

    $("#addCartBtn").click(function(){
      document.getElementById('addToCartModal').style.display='none';
      var url = 'http://localhost:8001/QuarkxAcademy/AddToCartNew';
      var params = {
      selectedProdId: ProdId,
      selectedSize: document.getElementById('selectedSize').value,
      selectedQuantity: 1,
      userToken: userToken1
      };

      var xmlHttp = new XMLHttpRequest();
        xmlHttp.onreadystatechange = function (res) {
            // console.log("checking response",xmlHttp.responseText);
            if (xmlHttp.readyState === 4) {
                res=JSON.parse(xmlHttp.responseText);

                // if (res.status == "NotLoggedIn"){ //comes from middleware
                //     localAddToCartCall(ProdId);
                // }

                if(res.status=="success"){
                  document.getElementById('prodHomeAddedMsg').innerHTML = "Product added to your cart successfully"; 
                  $("#prodHomeAddedMsg").hide();
                  $("#prodHomeAddedMsg").hide();
                  $("#prodHomeAddedMsg").show();
                  $("#prodHomeAddedMsg").delay(4000).fadeOut();
                  document.getElementById('cartItemCount').innerHTML = res.itemCount;
                  $("#cartCount").show();     
                }
  
            }
        }
        xmlHttp.open("POST", url, true); // false for synchronous request
        xmlHttp.withCredentials = true;
        xmlHttp.setRequestHeader("Content-type", "application/json");
        xmlHttp.send(JSON.stringify(params));
      });
  }
</script>

<script>
      function productInfo(ProdId) {
          document.getElementById('thisProdId').value=ProdId;
          // $("#ViewProductForm").submit();
          // e.preventDefault();

          var userToken = localStorage.getItem("Token");
          if(userToken){
            userToken1=userToken;
          }
          else{
            userToken1=Date.now();
            localStorage.setItem("Token",userToken1);
          }
          hrefStr = "http://localhost:8001/QuarkXAcademy/ProductInfo" + "/" + ProdId + "/" + userToken1;

          location.href = hrefStr;
      }
</script>

<script>    //Refresh page on back/forward button
 window.addEventListener( "pageshow", function ( event ) {
  
  var historyTraversal = event.persisted || 
                         ( typeof window.performance != "undefined" && 
                              window.performance.navigation.type === 2 );
  if ( historyTraversal ) {
    // Handle page restore.
    location.reload()
    
    // $('#Sec2').load(location.href + " #Sec2");
    
    // console.log("You have come back by pressing back")
  }
});
</script>


<script>
    const ul = document.querySelectorAll('ul');
    var ClassSel = $("#CousesList li #ClassSel").text();
    var CourseSel = $("#CousesList li #CourseSel").text();
    var AmountSel = $("#CousesList li #AmountSel").text();

    var resCls = ClassSel.split(",");
    // console.log(resCls);

    var resCourse = CourseSel.split(",");
    // console.log(resCourse);

    var resAmt = AmountSel.split(",");
    // console.log(resAmt);

    $("#CousesList li").click(function() {
        var index = $(this).index();
        document.getElementById("Class").value = resCls[index-1];
        document.getElementById("Course").value = resCourse[index-1];
        document.getElementById("Price").value = resAmt[index-1] * 100;
        document.getElementById("order-amt").value = resAmt[index-1] * 100;

        var url = '/api/payment/order';
        var params = {
        amount: document.getElementById('order-amt').value,  
        currency: "INR",
        receipt: "su001",
        payment_capture: '1',
        };
        var xmlHttp = new XMLHttpRequest();
        xmlHttp.onreadystatechange = function (res) {
            if (xmlHttp.readyState === 4) {
                res=JSON.parse(xmlHttp.responseText);
                document.getElementById("orderId").value = res.sub.id;
                $("#selectCourseForm").submit();
            }
        }
        xmlHttp.open("POST", url, true); // false for synchronous request
        xmlHttp.withCredentials = true;
        xmlHttp.setRequestHeader("Content-type", "application/json");
        xmlHttp.send(JSON.stringify(params));

    });
</script>

<script>

  $(document).ready(function(){
    var username = document.getElementById('username1').value;
    var loginFlag = document.getElementById('loginFlag').value;

    if (loginFlag == '0' && screen.width>768){
      $("#usernameDisplay").hide();
      $("#loginBtn").show();
      $("#signUpBtn").show();
      $('#RegiTxt').show();
      $('#logOutTxt').hide();
      $('#userImage').hide();
      $('#myCoursesTxt').hide();
    }
    else if (loginFlag == '1' && screen.width>768){   //if logged in
      $("#loginBtn").hide();
      $("#signUpBtn").hide();
      $("#usernameDisplay").show();  
      $('#RegiTxt').hide();
      $('#logOutTxt').show();
      $('#userImage').show();
      $('#username').show();
    }

    if (loginFlag == '1' && screen.width<=768){
      $('#RegiTxt').hide();
      $('#logOutTxt').show();
    }
    else if (loginFlag == '0' && screen.width<=768) {
      $('#RegiTxt').show();
      $('#logOutTxt').hide();
    }
});

</script>

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-157972185-1">
</script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-157972185-1');
</script>

<script>
    AOS.init();
  </script>


<!-- ADDED FOR IMAGINE WIZARDS -->
<!-- Swiper Script -->
   <!-- Swiper JS -->
   <script src="https://unpkg.com/swiper/swiper-bundle.min.js"></script>

   <!-- Initialize Swiper -->
   <script>
     var swiper = new Swiper(".mySwiper", {
       loop: true,
       lazy:true,
       autoplay: {
           delay: 2000,
       },
       speed: 800,
       navigation: {
         nextEl: ".swiper-button-next",
         prevEl: ".swiper-button-prev",
       },
     });
   </script>


<!-- <script>
  function Wishlist(ProdId) {
      document.getElementById('thisProdId').value=ProdId;
          //always have 1 qty for wishlist
  }
  </script> -->

</body>
</html>
    