<!DOCTYPE html>
<html>
<title>QuarkX</title>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Quicksand">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Source Serif Pro">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<link rel="stylesheet" href="/QuarkStylesDesktop.css">
<link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
<link rel="stylesheet" href="/QuarksLargePh.css">
<link rel="stylesheet" href="/ChaptersStyles.css">

 <meta property="og:url"           content="angshumankashyap.in/QuarkX" />
 <meta property="og:type"          content="website" />
 <meta property="og:title"         content="Join Quarks" />
 <meta property="og:description"   content="Refuel Your Curiosity" />
 <meta property="og:image"         content="images/homeAmoeba.jpg" />
<link rel="stylesheet" href="/w3styles.css">
<link rel="stylesheet" href="/AngzPhStyles.css">

<link rel="icon" href="/QuarkOtherImages/QuarksLogoFinal-1.png">

<script src="slickJS/slick.js" type="text/javascript"></script>
<link rel="stylesheet" href= "/slickCss/slick.css">
<link rel="stylesheet" href= "/slickCss/slick-theme.css">

<link rel="stylesheet" href= "/AngzDesktopStyles.css">

<!-- NAV BAR  -->
<link rel="stylesheet" href="/nav.css">
<script src='https://kit.fontawesome.com/a076d05399.js'></script>

<script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
<script src="https://www.w3schools.com/lib/w3.js"></script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
<script src="https://cdn.jsdelivr.net/jquery.slick/1.5.0/slick.min.js"> </script>

<script src="https://www.w3schools.com/lib/w3.js"></script>

<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>

<link rel="preconnect" href="https://fonts.gstatic.com">
<link href="https://fonts.googleapis.com/css2?family=Lora:ital@1&display=swap" rel="stylesheet">

<!--     ===================================================================
                              Hemburgar Menu
    ===================================================================
 -->

 <script>
	function openSlideMenu(){
	  if (screen.width <=768) {
		document.getElementById('side-menu').style.width = '65vw';
		document.getElementById('main').style.marginLeft = '65vw';
		document.getElementById('wholebody').style = '1';
	  }
	  else {
		document.getElementById('side-menu').style.width = '25vw';
		document.getElementById('main').style.marginLeft = '25vw';
		document.getElementById('wholebody').style = '1';
	  }
	}
  
	function closeSlideMenu(){
	  document.getElementById('side-menu').style.width = '0';
	  document.getElementsByClassName('w3-row').style.opacity = '1';
	}
  </script>


<body onload="move()" class="w3-white" style="width:100vw;">


<section  id="top-navbar">  
    <div id="side-menu" class="side-nav">
      <a href="#" class="btn-close" onclick="closeSlideMenu()">&times;</a>
      <a href="#" id="userImg"> <img id="userImage" src="https://cdn.pixabay.com/photo/2016/06/14/09/33/bulldog-1456110_960_720.png"></a>
      <a href="#" id="username"><%=username%></a>
      <a id="myCoursesTxt" href="MyCourses">My Courses</a>
      <a href="../UserProfile/LogOut"><div id="logOutTxt">LOG OUT</div></a>
    </div>
 </section>

<!-- Navbar (sit on top) -->
<div class="w3-top">
  <div class="w3-bar w3-white" id="myNavbar" style="box-shadow: 3px 3px 3px #A8A8A8 ; width:100vw; max-width:100vw; min-width:100vw;">
    <a id="iconBar" class="w3-bar-item w3-left w3-white" href="javascript:void(0);" onclick="openSlideMenu()" title="Toggle Navigation Menu">
      <i class="fa fa-bars"></i>
    </a>
    <div style="cursor: pointer;" class="w3-bar-item"> <img id="QuarksLogo" src="/QuarkOtherImages/QuarksLogoFinal-1.png"> </div> 
    
    <div style="cursor: pointer;" class="w3-bar-item"><span id="nameQuarks">QuarkX</span></div>    
    <div style="cursor: pointer;" class="w3-bar-item" id="upgradeBtn">Upgrade Plan</div>
    
  </div>
  <!-- Navbar on small screens -->
</div>

<!--
  <form action="/QuarkXAcademy/ConceptPerformance" method="POST">
    <input type="text" id="concept" placeholder="concept" name="Concept">
    <input type="text" id="Chapter" placeholder="Chapter" name="Chapter">
    <input type="text" id="Class" placeholder="Class" name="Class">
    <input type="text" id="Course" placeholder="Course" name="Course">

    <button type="submit"  class="w3-blue btn btn-default">Submit</button>
  </form>
-->
<div onclick="closeSlideMenu()">

  <form class="w3-hide" id="chaptersForm" action="/QuarkXAcademy/ShowConcepts" method="POST">
    <input type="text" id="Chapter" placeholder="Chapter" name="ChapterId">
    <input type="text" id="Class" placeholder="Class" name="ClassId" value=<%=ClassId%>>
    <input type="text" id="Course" placeholder="Course" name="CourseId" value=<%=CourseId%>>
    <input type="text" id="ChapNum" placeholder="ChapNum" name="ChapNum">>
    <input type="text" id="Price2" placeholder="Price" name="Price" value=<%=Price%>>

    <button type="submit"  class="w3-blue btn btn-default">Submit</button>
  </form>

    <div class="w3-card" id="whiteStrip">Welcome to class</div>
    <div class="w3-center glow" id="SubjectName"><%=CourseId%> </div>

    
    <form class="w3-hide">
      <input type="text" id="correctLength" value=<%=CorrectQuestionLength%>>
      <input type="text" id="wrongLength" value=<%=WrongQuestionLength%>>
      <input type="text" id="skipLength" value=<%=SkipQuestionLength%>>
      <input type="text" id="totalLength" value=<%=TotalQuestionLength%>>
  </form>
  
    <figure>
      <div class="graphic">
    
        <div class="row">
          <div class="chart">
            <span class="block" title="Correct">
               <span id="correctPercent" class="value w3-hide"></span>
               <span id="correctPercentDisplay"></span>
            </span>
            <span class="block" title="Wrong">
               <span id="wrongPercent" class="value w3-hide"></span>
               <span id="wrongPercentDisplay"></span>
            </span>
            <span class="block" title="Skipped">
               <span id="skipPercent" class="value w3-hide"></span>
               <span id="skipPercentDisplay"></span>
            </span>
            <span class="block" title="Unattempted">
               <span id="unattemptedPercent" class="value w3-hide"></span>
               <span id="unattemptedPercentDisplay"></span>
            </span>
          
          </div>
        </div>
      </div>
    
    </figure>

    <div id="colorId"> 
      <div id="IndicatorTxt"> <span style="color:green">&#9679</span> <span style="color:white">Correct</span> </div>
      <div id="IndicatorTxt"> <span style="color:#CD3615">&#9679</span> <span style="color:white">Wrong</span> </div>
      <div id="IndicatorTxt"> <span style="color:#1596CD">&#9679</span> <span style="color:white">Skipped</span> </div>
      <div id="IndicatorTxt"> <span style="color:#565454">&#9679</span> <span style="color:white">Unattempted</span> </div>
  </div>
  
  <div id="colorId2"> 
      <div id="IndicatorTxtC"><span id="correctCount" class="counter" style="color:white"></span> </div>
      <div id="IndicatorTxtW"><span id="wrongCount" class="counter" style="color:white"></span> </div>
      <div id="IndicatorTxtS"><span id="skipCount" class="counter" style="color:white"></span> </div>
      <div id="IndicatorTxtU"><span id="unattemptedCount" class="counter" style="color:white"></span> </div>
  </div>

    
    <div id="chapterConceptCard">
      <!-- <div id="Chapters">Averages</div> -->
      
      <ul id="conceptBlocks"> 

        <% var i=0; %>

        <% for(Concept of Concepts){%>
          
          <% if (i<3) {%>
            <li id ="ConceptLists" class="w3-card">        
              <img id="conceptImage" src=<%=Concept.CHAPTER_IMG%>>
              <div id="conceptName"><%= i+1 %><span>. </span><%=Concept.CHAPTER_ID%><span class="w3-hide">,</span></div>
              <div id="myProgress">
                 <div class="accuracyBar" id="myBar"><div id= "accuracyText">
                   <span style="visibility:hidden">,</span>Completed% </div></div> 
              </div>
            </li>   
          <%} else {%>

            <li id ="ConceptLists" class="w3-card">        
              <img id="conceptImage" src="https://cdn.pixabay.com/photo/2016/12/18/12/49/cyber-security-1915626_960_720.png">
              <div id="conceptName"><%= i+1 %><span>. </span><%=Concept.CHAPTER_ID%><span class="w3-hide">,</span></div>
              <div id="myProgress">
                 <div class="accuracyBar" id="myBar"><div id= "accuracyText">
                   <span style="visibility:hidden">,</span>Completed% </div></div> 
              </div>
            </li>  
          <% } %>
          <% i++; %>
        <%}%>
        </ul>

    </div>


    <ul class="w3-hide" id="percentList" style="display: inline-block;">
      <% var i=0; %>
      <% for(percent of SolvedPercent){%>
        <li id="solvedPercentBlock">
          <div id="solvedPercent"><%=percent%><span>,</span></div>
        </li>
        <% i++; %>
        <%}%>
    </ul>

  <form class="w3-hide">
    <input type="text" id="totalConcepts" value=<%=TotalConcepts%>>
  </form>

  <form class="w3-hide" id="selectCourseForm" action="../QuarkXAcademy/OrderDetails" style="margin-top: 20vw;" method="POST">
    <input type="text" placeholder="Class" name="Class" value=<%=ClassId%>>
    <input type="text" placeholder="Course" name="Course" value=<%=CourseId%>>
    <input type="text" id="Price" name = "Price" placeholder="Price" value=<%=Price%>>
    <input type="text" id="orderId" name = "orderId" placeholder="Order Id">
    <input type="text" id="username" name = "username" value=<%=username%>>
    <button type="submit" id="submitCourse">Submit</button>
</form> 

</div>
</body>

<script>
  let lis = document.getElementById('conceptBlocks').getElementsByTagName('li#conceptName');
  // console.log(lis);
</script>

<script>
      var ConceptString = $("#conceptBlocks  li #conceptName").text();
      var res = ConceptString.split(",");
  
      $("#conceptBlocks li").click(function() {
        var index = $(this).index();
        let chapterNumber = null;

        let chapterName = null;
       //alert("Index " + index + " was clicked");
      
       if(index<9) {
          chapterName = res[index];
          chapterName = chapterName.substr(3,chapterName.length);
       }
       else if (index>=9) {
          chapterName = res[index];
          chapterName = chapterName.substr(4,chapterName.length);
       }       
          //Above three lines were imp to remove the dots after chapter name
          document.getElementById("Chapter").value = chapterName;
          document.getElementById("ChapNum").value = index+1;

       if(index<3){
          $("#chaptersForm").submit();
       }
      });

</script>


<script>
//var i = 0;

function move() {
  
  var TotalConcepts = document.getElementById("totalConcepts").value;  
  var SolvedPercent = $("#percentList li #solvedPercent").text();

  var res = SolvedPercent.split(",");
  var completedPercent = [];
  for(let i=0;i<res.length-1;i++) {
    completedPercent[i] = parseInt(res[i]); 
  }
//Till here Concent Completed Percentage is found 

  var elem = document.getElementsByClassName("accuracyBar");

  for (var k=0; k<TotalConcepts;k++) {  
    /*if (i[k] == 0) {
        i[k] = 1;
        widthAcc[k] = 1;*/
        //var id = setInterval(frame, 10);
       // function frame() {
            /*if (widthAcc[k] >= accuracy[k]) {
                clearInterval(id);
                i[k] = 0;
              } else {    
                  widthAcc[k]++;
                  elem[k].style.width = accuracy[k] + "%";
              }*/
              elem[k].style.width = completedPercent[k] + "%";
         }
      }
  //}
//}
</script>


<script>  //for the horizontal figure

  var correctLength = parseInt(document.getElementById('correctLength').value);
  var wrongLength = parseInt(document.getElementById('wrongLength').value);
  var skipLength = parseInt(document.getElementById('skipLength').value);
  var totalLength = parseInt(document.getElementById('totalLength').value);
  var unattemptedLength = totalLength - (correctLength + wrongLength + skipLength);
  
  var correctPercent = (correctLength/totalLength) * 100;
  var wrongPercent = (wrongLength/totalLength) * 100;
  var skipPercent = (skipLength/totalLength) * 100;
  var unattemptedPercent = (unattemptedLength/totalLength) * 100;
  
  document.getElementById('correctPercent').innerHTML = correctPercent + "%";
  document.getElementById('wrongPercent').innerHTML = wrongPercent + "%";
  document.getElementById('skipPercent').innerHTML = skipPercent + "%";
  document.getElementById('unattemptedPercent').innerHTML = unattemptedPercent + "%";
  
document.getElementById('correctCount').innerHTML = correctLength;
document.getElementById('wrongCount').innerHTML = wrongLength;
document.getElementById('skipCount').innerHTML = skipLength;
document.getElementById('unattemptedCount').innerHTML = unattemptedLength;

if(correctLength>=0 && wrongLength>=0 && skipLength>=0 && unattemptedLength>=0) {
$('.counter').each(function () {
    $(this).prop('Counter',0).animate({
        Counter: $(this).text()
    }, {
        duration: 4000,
        easing: 'swing',
        step: function (now) {
            $(this).text(Math.ceil(now));
        }
    });
});
}
  $('.value').each(function() {
    var text = $(this).text();
    $(this).parent().css('width', text);
  });
  
  $('.block').tooltip();
  </script>

<script>
    var FinalPrice = document.getElementById('Price').value;

    if(screen.width<=768) {
      document.getElementById('upgradeBtn').innerHTML = "Upgrade";
      $("#upgradeBtn").css("float","right");
    }

    if(FinalPrice>0) {
      $("#upgradeBtn").show();
    }

    $("#upgradeBtn").click(function() {
      var url = '/api/payment/order';
      var params = {
      amount: FinalPrice,  
      currency: "INR",
      receipt: "su001",
      payment_capture: '1',
      };
      var xmlHttp = new XMLHttpRequest();
      xmlHttp.onreadystatechange = function (res) {
          if (xmlHttp.readyState === 4) {
              res=JSON.parse(xmlHttp.responseText);
              document.getElementById("orderId").value = res.sub.id;
              $("#selectCourseForm").submit();
          }
      }
      xmlHttp.open("POST", url, true); // false for synchronous request
      xmlHttp.withCredentials = true;
      xmlHttp.setRequestHeader("Content-type", "application/json");
      xmlHttp.send(JSON.stringify(params));

  });
</script>


</html>